{"ast":null,"code":"var _jsxFileName = \"/Users/danielkudinov/Desktop/react/sdo-react/sdo/src/pages/LabaStud/Button.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport base64 from 'base-64';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Form = styled.form`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 45px;\n`;\n_c = Form;\nconst Button = styled.button`\n    width: 1098px;\n    height: 75px;\n    background-color: #FFFFFF;\n    color: #000000;\n    cursor: pointer;\n    border-radius: 10px;\n    border-style: none;\n    font-family: 'Montserrat';\n    font-size: 16px;\n\n    :hover {\n        background-color: #C8D5F6;\n        color: #FFFFFF;\n        transition: 0.7s;\n    }\n`;\n_c2 = Button;\nconst Inpt = styled.input`\n    display: none;\n`;\n_c3 = Inpt;\nconst Label = styled.label`\n    width: 1098px;\n    height: 75px;\n    background-color: #FFFFFF;\n    color: #000000;\n    cursor: pointer;\n    border-radius: 10px;\n    border-style: ${({\n  isHovered\n}) => isHovered ? 'dashed' : 'none'};\n    border-width: 2px;\n    border-color: ${({\n  isHovered\n}) => isHovered ? '#808080' : 'transparent'};\n    transition: border-color 0.3s ease;\n    font-family: 'Montserrat';\n    font-size: 16px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    &:hover {\n        border-style: dashed;\n        border-width: 2px;\n        border-color: #808080;\n    }\n`;\n_c4 = Label;\nconst Span = styled.span`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    background-color: ${({\n  isDragging\n}) => isDragging ? '#F5F5F5' : 'transparent'};\n    transition: background-color 0.3s ease;\n`;\n_c5 = Span;\nconst FileUploader = ({\n  id\n}) => {\n  _s();\n  const [file, setFile] = useState(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [isHovered, setIsHovered] = useState(false);\n  const [testResults, setTestResults] = useState(null);\n  const [testPassed, setTestPassed] = useState(null);\n  const [testErrors, setTestErrors] = useState(null);\n  const [testLength, setTestLength] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [showAlert, setShowAlert] = useState(false);\n  const handleChange = e => {\n    if (e.target.files && e.target.files[0]) {\n      setFile(e.target.files[0]);\n    }\n  };\n  const handleDragEnter = e => {\n    e.preventDefault();\n    setIsDragging(true);\n  };\n  const handleDragLeave = () => {\n    setIsDragging(false);\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    setIsDragging(false);\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      setFile(e.dataTransfer.files[0]);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (file === null) {\n      setShowAlert(true);\n      return;\n    }\n    setLoading(true);\n    const reader = new FileReader();\n    reader.readAsArrayBuffer(file);\n    reader.onload = () => {\n      const encodedFile = base64.encode(String.fromCharCode(...new Uint8Array(reader.result)));\n      fetch(`http://0.0.0.0:8002/check`, {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        method: 'POST',\n        body: JSON.stringify({\n          file: encodedFile\n        })\n      }).then(response => response.json()).then(data => {\n        setTestResults(base64.decode(data.test_results));\n        setTestPassed(JSON.stringify(data.test_passed, null, 2));\n        setTestLength(JSON.stringify(data.lengths, null, 2));\n        setTestErrors(base64.decode(data.test_errors));\n      }).catch(error => {\n        console.log(error);\n        setLoading(false);\n      }).finally(() => setLoading(false));\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: handleSubmit,\n    onDragEnter: handleDragEnter,\n    onDragOver: handleDragEnter,\n    onDragLeave: handleDragLeave,\n    onDrop: handleDrop,\n    children: [/*#__PURE__*/_jsxDEV(Label, {\n      htmlFor: \"fileInput\",\n      isHovered: isHovered,\n      onMouseEnter: () => setIsHovered(true),\n      onMouseLeave: () => setIsHovered(false),\n      children: [/*#__PURE__*/_jsxDEV(Span, {\n        isDragging: isDragging,\n        children: file ? file.name : 'Загрузите файл'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Inpt, {\n        id: \"fileInput\",\n        type: \"file\",\n        onChange: handleChange,\n        onMouseEnter: () => setIsHovered(true),\n        onMouseLeave: () => setIsHovered(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      onClick: () => {\n        handleSubmit(file);\n      },\n      loading: loading,\n      variant: \"contained\",\n      children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u0430 \\u043F\\u0440\\u043E\\u0432\\u0435\\u0440\\u043A\\u0443\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 9\n  }, this);\n};\n_s(FileUploader, \"1HjnL8S56HNquDqIYZOTxZEi9q0=\");\n_c6 = FileUploader;\nexport default FileUploader;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"Form\");\n$RefreshReg$(_c2, \"Button\");\n$RefreshReg$(_c3, \"Inpt\");\n$RefreshReg$(_c4, \"Label\");\n$RefreshReg$(_c5, \"Span\");\n$RefreshReg$(_c6, \"FileUploader\");","map":{"version":3,"names":["React","useState","styled","base64","jsxDEV","_jsxDEV","Form","form","_c","Button","button","_c2","Inpt","input","_c3","Label","label","isHovered","_c4","Span","span","isDragging","_c5","FileUploader","id","_s","file","setFile","setIsDragging","setIsHovered","testResults","setTestResults","testPassed","setTestPassed","testErrors","setTestErrors","testLength","setTestLength","loading","setLoading","showAlert","setShowAlert","handleChange","e","target","files","handleDragEnter","preventDefault","handleDragLeave","handleDrop","dataTransfer","handleSubmit","reader","FileReader","readAsArrayBuffer","onload","encodedFile","encode","String","fromCharCode","Uint8Array","result","fetch","headers","method","body","JSON","stringify","then","response","json","data","decode","test_results","test_passed","lengths","test_errors","catch","error","console","log","finally","onSubmit","onDragEnter","onDragOver","onDragLeave","onDrop","children","htmlFor","onMouseEnter","onMouseLeave","name","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","onClick","variant","_c6","$RefreshReg$"],"sources":["/Users/danielkudinov/Desktop/react/sdo-react/sdo/src/pages/LabaStud/Button.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport base64 from 'base-64';\n\nconst Form = styled.form`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 45px;\n`;\n\nconst Button = styled.button`\n    width: 1098px;\n    height: 75px;\n    background-color: #FFFFFF;\n    color: #000000;\n    cursor: pointer;\n    border-radius: 10px;\n    border-style: none;\n    font-family: 'Montserrat';\n    font-size: 16px;\n\n    :hover {\n        background-color: #C8D5F6;\n        color: #FFFFFF;\n        transition: 0.7s;\n    }\n`;\n\nconst Inpt = styled.input`\n    display: none;\n`;\n\nconst Label = styled.label`\n    width: 1098px;\n    height: 75px;\n    background-color: #FFFFFF;\n    color: #000000;\n    cursor: pointer;\n    border-radius: 10px;\n    border-style: ${({ isHovered }) => (isHovered ? 'dashed' : 'none')};\n    border-width: 2px;\n    border-color: ${({ isHovered }) => (isHovered ? '#808080' : 'transparent')};\n    transition: border-color 0.3s ease;\n    font-family: 'Montserrat';\n    font-size: 16px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    &:hover {\n        border-style: dashed;\n        border-width: 2px;\n        border-color: #808080;\n    }\n`;\n\nconst Span = styled.span`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    background-color: ${({ isDragging }) => (isDragging ? '#F5F5F5' : 'transparent')};\n    transition: background-color 0.3s ease;\n`;\n\nconst FileUploader = ({ id }) => {\n    const [file, setFile] = useState(null);\n    const [isDragging, setIsDragging] = useState(false);\n    const [isHovered, setIsHovered] = useState(false);\n    const [testResults, setTestResults] = useState(null);\n    const [testPassed, setTestPassed] = useState(null);\n    const [testErrors, setTestErrors] = useState(null);\n    const [testLength, setTestLength] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [showAlert, setShowAlert] = useState(false);\n\n    const handleChange = (e) => {\n        if (e.target.files && e.target.files[0]) {\n            setFile(e.target.files[0]);\n        }\n    };\n\n    const handleDragEnter = (e) => {\n        e.preventDefault();\n        setIsDragging(true);\n    };\n\n    const handleDragLeave = () => {\n        setIsDragging(false);\n    };\n\n    const handleDrop = (e) => {\n        e.preventDefault();\n        setIsDragging(false);\n\n        if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n            setFile(e.dataTransfer.files[0]);\n        }\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (file === null) {\n            setShowAlert(true);\n            return;\n        }\n        setLoading(true);\n        const reader = new FileReader();\n        reader.readAsArrayBuffer(file);\n        reader.onload = () => {\n            const encodedFile = base64.encode(\n                String.fromCharCode(...new Uint8Array(reader.result))\n            );\n            fetch(`http://0.0.0.0:8002/check`, {\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                method: 'POST',\n                body: JSON.stringify({ file: encodedFile }),\n            })\n                .then((response) => response.json())\n                .then((data) => {\n                    setTestResults(base64.decode(data.test_results));\n                    setTestPassed(JSON.stringify(data.test_passed, null, 2));\n                    setTestLength(JSON.stringify(data.lengths, null, 2));\n                    setTestErrors(base64.decode(data.test_errors));\n                })\n                .catch((error) => {\n                    console.log(error);\n                    setLoading(false);\n                })\n                .finally(() => setLoading(false));\n        };\n    };\n\n    return (\n        <Form\n            onSubmit={handleSubmit}\n            onDragEnter={handleDragEnter}\n            onDragOver={handleDragEnter}\n            onDragLeave={handleDragLeave}\n            onDrop={handleDrop}\n        >\n            <Label\n                htmlFor=\"fileInput\"\n                isHovered={isHovered}\n                onMouseEnter={() => setIsHovered(true)}\n                onMouseLeave={() => setIsHovered(false)}\n            >\n                <Span isDragging={isDragging}>\n                    {file ? file.name : 'Загрузите файл'}\n                </Span>\n                <Inpt\n                    id=\"fileInput\"\n                    type=\"file\"\n                    onChange={handleChange}\n                    onMouseEnter={() => setIsHovered(true)}\n                    onMouseLeave={() => setIsHovered(false)}\n                />\n            </Label>\n            <Button \n                type=\"submit\" \n                onClick={() => {\n                    handleSubmit(file);\n                  }}\n                  loading={loading}\n                  variant=\"contained\"\n            >\n                Отправить на проверку\n            </Button>\n        </Form>\n    );\n};\n\nexport default FileUploader;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}